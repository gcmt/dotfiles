#!/usr/bin/env python

import i3ipc


def main():
    i3 = i3ipc.Connection()
    tree = i3.get_tree()
    focused = tree.find_focused()
    windows = focused.workspace().leaves()
    ids = [win.id for win in windows]
    next_id = ids[(ids.index(focused.id) + 1) % len(ids)]
    i3.command('[con_id="{}"] focus'.format(next_id))


if __name__ == '__main__':
    main()
