#!/bin/bash

current_workspace_name() {
	i3-msg -t get_workspaces \
		| jq '.[] | select(.focused==true).name' \
		| cut -d "\"" -f 2
}

num=$(current_workspace_name | grep -o '^[0-9]\+\( \|:\)\?')
read -p "name: " -e -i "$num" name
if [ $? -eq 0 -a -n "$name" ]; then
	i3-msg rename workspace to \"$name\"
fi
